from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)
import requests
import time
import ciso8601
import json,csv
from web3.auto.gethdev import w3
import json
import schedule
with open(r"contract_data.json", "r") as infile:
    contract_data = json.load(infile)

from datetime import datetime, timedelta
import time
import numpy as np
import json




def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        pass

def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)






def ripplehealth(url):
    count = 0
    with open("count.txt","r") as f:
        count = int(f.read())
    f.close()
    if count > 150:
        count = 0
    data = []
    with open("249.csv","r") as csv_file:
        csv_reader = csv.reader(csv_file, delimiter=',')
        a = 0
        for row in csv_reader:
            a += 1
            if a == count:
                data = row
    with open("count.txt","w") as f:
        f.write(str(count+1))
    f.close()
    # result = r.json()
    # data = dict()
    # rtime = 0
    # for element in result.keys():
    #     # ts = ciso8601.parse_datetime(element)
    #     rtime = int(element) - int(element) % 86400
    #     if (str(rtime) in data):
    #         data[str(rtime)] = str(int(data[str(rtime)]) + 1)
    #     else:
    #         data[str(rtime)] = str(1)
    return json.dumps(data)





def publish_data(data,medication,dose):
    with open("request.txt", "r") as f:
        requests = f.read()
    if "publish" in requests:
        with open("request.txt", "w") as f:
            f.write("")
        heart_rate = int(np.random.normal(loc=88, scale=11, size=None))
        blood_glucose = int(np.random.normal(loc=167, scale=56, size=None))
        systolic_bp = int(np.random.normal(loc=126, scale=18, size=None))
        diastolic_bp = int(np.random.normal(loc=50, scale=9, size=None))
        today_time = time.time()
        some_dict = dict()
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","r") as f:
            some_dict = json.load(f)
        f.close()
        some_dict2 = {
            "Heart Rate":[int(today_time),heart_rate],
            "Blood Glucose": [int(today_time+1),blood_glucose],
            "Systolic BP": [int(today_time+2),systolic_bp],
            "Diastolic BP": [int(today_time+3),diastolic_bp]
        }
        for key in some_dict2.keys():
            some_dict[key].append(some_dict2[key])
        with open("/var/opt/BlockIoT_UI/SEMRinterface/static/js/iot_hr.json","w") as f:
            json.dump(some_dict, f)
        f.close()
    else:
        passcontract = w3.eth.contract(address=contract_data['asc5qhsS04crWe_i6bioN'][2], abi=contract_data['asc5qhsS04crWe_i6bioN'][0], bytecode=contract_data['asc5qhsS04crWe_i6bioN'][1])
device_key = 'asc5qhsS04crWe_i6bioN'
patient_contract = w3.eth.contract(address=contract_data['a6cdrttaH4cH5GVm_ihwT'][2],abi=contract_data['a6cdrttaH4cH5GVm_ihwT'][0],bytecode=contract_data['a6cdrttaH4cH5GVm_ihwT'][1])
device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

patient_contract.functions.set_device_data(device_key,device_data,'adherence').transact()

contract.functions.clear_event().transact()

patient_contract.functions.step1().transact()

device_data = ripplehealth('http://localhost:8000/Code/BlockIoT_3.0/sample.json')

publish_data(device_data,'Vitamin D','')
